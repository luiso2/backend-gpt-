/* ================================
   TOGGLE MÓVIL Y POSICIÓN DROPDOWN - MERCATOP
   Correcciones finales
   ================================ */

/* 1. TOGGLE SOLO EN MÓVIL */
.navbar-toggle {
  display: none !important; /* Oculto por defecto en desktop */
  flex-direction: column;
  gap: 4px;
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  padding: 0.5rem;
  transition: all 0.3s ease;
}

.navbar-toggle span {
  width: 24px;
  height: 2px;
  background: white;
  transition: all 0.3s ease;
}

.navbar-toggle:hover {
  color: #B8E92D;
}

.navbar-toggle:hover span {
  background: #B8E92D;
}

/* Solo visible en móvil */
@media (max-width: 768px) {
  .navbar-toggle {
    display: flex !important; /* Visible solo en móvil */
  }
  
  .navbar-desktop {
    display: none !important;
  }
}

/* 2. AJUSTE DE POSICIÓN VERTICAL DEL DROPDOWN */
/* Override para acercar más el dropdown al navbar */
.dropdown-menu {
  margin-top: -4px !important; /* Acercar aún más al navbar */
}

/* Ajustar la flecha indicadora para la nueva posición */
.dropdown-menu::after {
  content: '';
  position: absolute;
  top: -8px; /* Ajustado para la nueva posición */
  left: 50%;
  width: 16px;
  height: 16px;
  background: #0A2E1F;
  border-top: 2px solid rgba(184, 233, 45, 0.25);
  border-left: 2px solid rgba(184, 233, 45, 0.25);
  transform: translateX(-50%) rotate(45deg);
  z-index: 1;
}

/* 3. ASEGURAR QUE EL DROPDOWN NO SE CORTE EN NINGÚN CASO */
body,
html,
main,
.main-content,
section {
  overflow-x: visible !important;
}

/* 4. Z-INDEX HIERARCHY CORRECTO */
.navbar {
  z-index: 1000 !important;
}

.navbar-dropdown {
  z-index: 1001 !important;
}

#portal-root {
  z-index: 9999 !important;
}

.dropdown-menu {
  z-index: 99999 !important;
}

/* 5. MEJORAR LA TRANSICIÓN DEL DROPDOWN */
@keyframes dropdownSlideIn {
  from {
    opacity: 0;
    transform: translateY(-12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dropdown-menu {
  animation: dropdownSlideIn 0.2s cubic-bezier(0.4, 0, 0.2, 1) forwards !important;
}

/* 6. AJUSTE FINO PARA DIFERENTES TAMAÑOS DE PANTALLA */
@media (min-width: 769px) and (max-width: 1024px) {
  .navbar-links {
    gap: 1.5rem !important; /* Reducir espacio en tablets */
  }
}

/* 7. FOCUS STATES PARA ACCESIBILIDAD */
.navbar-toggle:focus {
  outline: 2px solid rgba(184, 233, 45, 0.5);
  outline-offset: 2px;
}

.navbar-dropdown-trigger:focus {
  outline: 2px solid rgba(184, 233, 45, 0.5);
  outline-offset: -2px;
  border-radius: 4px;
}