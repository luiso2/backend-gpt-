<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificaci√≥n de Rutas - Next.js</title>
    <style>
        body {
            font-family: -apple-system, system-ui, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #333; border-bottom: 3px solid #B8E92D; padding-bottom: 10px; }
        .test { margin: 15px 0; padding: 15px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #cce5ff; color: #004085; }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
        .url-test {
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Verificaci√≥n de Rutas</h1>
        
        <div class="test info">
            <strong>URL Actual:</strong> <code id="current-url"></code><br>
            <strong>Pathname:</strong> <code id="current-path"></code><br>
            <strong>Host:</strong> <code id="current-host"></code>
        </div>
        
        <h2>Pruebas de Recursos</h2>
        <div id="test-results"></div>
        
        <h2>Enlaces de Prueba</h2>
        <div class="url-test">
            <a href="/">Inicio (relativo)</a> |
            <a href="/about">About (absoluto)</a> |
            <a href="contact">Contact (relativo)</a> |
            <a href="/wp-admin">WordPress Admin</a>
        </div>
        
        <h2>Prueba de Assets</h2>
        <div class="url-test">
            <img src="/_next/static/test.png" alt="Test" style="width:50px;height:50px;border:1px solid #ddd;" onerror="this.style.background='red'" onload="this.style.background='green'">
            <p>Si el cuadro es verde, las rutas de assets funcionan.</p>
        </div>
    </div>
    
    <script>
        // Mostrar informaci√≥n actual
        document.getElementById('current-url').textContent = window.location.href;
        document.getElementById('current-path').textContent = window.location.pathname;
        document.getElementById('current-host').textContent = window.location.host;
        
        // Probar diferentes rutas
        const tests = [
            { url: '/_next/static/', desc: 'Assets de Next.js' },
            { url: '/images/', desc: 'Im√°genes' },
            { url: '/favicon.ico', desc: 'Favicon' },
            { url: '/wp-admin/', desc: 'WordPress Admin' },
            { url: '/wp-json/wp/v2/posts', desc: 'WordPress API' }
        ];
        
        const resultsDiv = document.getElementById('test-results');
        
        tests.forEach(test => {
            fetch(test.url, { method: 'HEAD' })
                .then(res => {
                    const div = document.createElement('div');
                    div.className = 'test ' + (res.ok ? 'success' : 'error');
                    div.innerHTML = `<strong>${test.desc}:</strong> ${test.url} - ${res.ok ? '‚úÖ OK' : '‚ùå Error'} (${res.status})`;
                    resultsDiv.appendChild(div);
                })
                .catch(err => {
                    const div = document.createElement('div');
                    div.className = 'test error';
                    div.innerHTML = `<strong>${test.desc}:</strong> ${test.url} - ‚ùå Error de red`;
                    resultsDiv.appendChild(div);
                });
        });
        
        // Verificar si estamos en la URL correcta
        if (window.location.pathname.includes('/mercatop-v2/')) {
            const warning = document.createElement('div');
            warning.className = 'test error';
            warning.innerHTML = '‚ö†Ô∏è <strong>Advertencia:</strong> La URL contiene /mercatop-v2/. El index.php necesita ser actualizado.';
            document.querySelector('.container').insertBefore(warning, document.querySelector('h2'));
        }
    </script>
</body>
</html>